[
  {
    "id": "hellcannon_to_mon",
    "type": "SPELL",
    "name": { "str": "Hell wave cannon (add var)" },
    "description": "This adds the condition for mon_utsuho_minisun to cast their version of the spell",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile" ],
    "targeted_monster_ids": [ "mon_utsuho_minisun" ],
    "effect": "effect_on_condition",
    "effect_str": "hellcannon_to_mon_eoc",
    "shape": "blast",
    "max_level": 1,
    "min_aoe": 16,
    "max_aoe": 16,
    "difficulty": -50,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "IGNORE_WALLS", "NO_EXPLOSION_SFX", "NO_FAIL", "NO_HANDS", "NO_LEGS", "NO_PROJECTILE" ]
  },
  {
    "id": "hellcannon_to_mon_eoc",
    "type": "effect_on_condition",
    "effect": [
      { "math": [ "u_var_hellcannon_cast", "+=", "1" ] }
    ]
  },
  {
    "id": "hellcannon_to_mon_unc",
    "type": "SPELL",
    "name": { "str": "Hell wave cannon (add var) (uncontrollable)" },
    "description": "This adds the condition for mon_utsuho_minisun to cast the uncontrollable version of the spell",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile" ],
    "targeted_monster_ids": [ "mon_utsuho_minisun" ],
    "effect": "effect_on_condition",
    "effect_str": "hellcannon_to_mon_unc_eoc",
    "shape": "blast",
    "max_level": 1,
    "min_aoe": 16,
    "max_aoe": 16,
    "difficulty": -50,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "IGNORE_WALLS", "NO_EXPLOSION_SFX", "NO_FAIL", "NO_HANDS", "NO_LEGS", "NO_PROJECTILE" ]
  },
  {
    "id": "hellcannon_to_mon_unc_eoc",
    "type": "effect_on_condition",
    "effect": [
      { "math": [ "u_var_hellcannon_unc_cast", "+=", "1" ] }
    ]
  },
  {
    "id": "mon_msun_hellcannon2",
    "type": "SPELL",
    "name": { "str": "Hell wave cannon (minisun)" },
    "description": "Replica of utsuho_hellcannon2 casted by mon_utsuho_minisun ",
    "spell_class": "NONE",
    "valid_targets": [ "hostile" ],
    "effect": "attack",
    "extra_effects": [ { "id": "mon_msun_hellcannon_reduce", "hit_self": true } ],
    "shape": "line",
    "damage_type": "heat",
    "min_damage": { "math": [ "var_hellcannon_dmg" ] },
    "max_damage": 297,
    "min_range": { "math": [ "var_hellcannon_range" ] },
    "max_range": 24,
    "field_id": "fd_laser",
    "field_chance": 1,
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "max_level": 1,
    "difficulty": -50,
    "base_casting_time": 100,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS" ],
    "//": "The vars are refreshed and set by utsuho_opens_spellbook_eoc every time Utsuho opens the window to cast spells"
  },
  {
    "id": "mon_msun_hellcannon2_unc",
    "type": "SPELL",
    "name": { "str": "Hell wave cannon (minisun) (uncontrollable)" },
    "description": "Replica of utsuho_hellcannon2_unc casted by mon_utsuho_minisun ",
    "spell_class": "NONE",
    "valid_targets": [ "hostile" ],
    "effect": "attack",
    "extra_effects": [ { "id": "mon_msun_hellcannon_reduce", "hit_self": true } ],
    "shape": "line",
    "damage_type": "heat",
    "min_damage": 1,
    "max_damage": { "math": [ "var_hellcannon_dmg" ] },
    "min_range": { "math": [ "var_hellcannon_range" ] },
    "max_range": 24,
    "field_id": "fd_laser",
    "field_chance": 1,
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "max_level": 1,
    "difficulty": -50,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "RANDOM_DAMAGE" ]
  },
  {
    "id": "mon_msun_hellcannon_reduce",
    "type": "SPELL",
    "name": { "str": "Hell wave cannon (minisun) (reduce EOC)" },
    "description": "Forces the target to run the EOC, which reduces u_var_hellcannon_unc_cast to (their) self",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "mon_msun_hellcannon_reduce_eoc",
    "shape": "blast",
    "damage_type": "pure",
    "max_level": 1,
    "difficulty": -50,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_FAIL", "NO_HANDS", "NO_LEGS", "NO_PROJECTILE" ]
  },
  {
    "id": "mon_msun_hellcannon_reduce_eoc",
    "type": "effect_on_condition",
    "effect": [
      { "math": [ "u_var_hellcannon_cast", "-=", "1" ] },
      { "math": [ "u_var_hellcannon_unc_cast", "-=", "1" ] }
    ]
  }
]
