[
  {
    "id": "remilia_bloodboil",
    "type": "SPELL",
    "name": "Blood boil",
    "description": "Force the blood of your enemies to momentarily reach boiling point, dealing internal damage and dazing them.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "attack",
    "effect_str": "dazed",
    "shape": "blast",
    "damage_type": "stab",
    "min_damage": { "math": [ "( (u_skill('stabbing') * 4.66 ) + (u_skill('melee') * 4.66 ) + (u_skill('dodge') * 4.66 ) - 20.92 )" ] },
    "max_damage": 175,
    "min_aoe": { "math": [ "( (u_skill('stabbing') * 0.133 ) + (u_skill('melee') * 0.133 ) + (u_skill('dodge') * 0.133 ) + 0.404 )" ] },
    "max_aoe": 6,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 166,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ],
    "//": "Evidently, this should only target things with internal fluids, which include the living, unliving and robots",
    "//2": "min dmg 35, min aoe 2"
  },
  {
    "id": "remilia_consumeblood",
    "type": "SPELL",
    "name": "Consume blood",
    "description": "Consume an unit of blood to regenerate health and spiritual power.",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "components": "spell_components_blood",
    "effect": "recover_energy",
    "effect_str": "HP",
    "extra_effects": [ { "id": "remilia_consumeblood2" } ],
    "shape": "blast",
    "damage_type": "pure",
    "min_damage": { "math": [ "( (u_skill('stabbing') ) + (u_skill('melee') ) + (u_skill('dodge') ) + 3 )" ] },
    "max_damage": 45,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 350,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ],
    "//": "Would be nice to have a field effect for this",
    "//2": "min dmg 15"
  },
  {
    "id": "remilia_consumeblood2",
    "type": "SPELL",
    "name": "Consume blood (spirit)",
    "description": "Spirit restoring component of remilia_consumeblood ",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "recover_energy",
    "effect_str": "MANA",
    "shape": "blast",
    "damage_type": "pure",
    "min_damage": { "math": [ "( (u_skill('stabbing') * 10 ) + (u_skill('melee') * 10 ) + (u_skill('dodge') * 10 ) + 80 )" ] },
    "max_damage": 500,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_LEGS" ],
    "//2": "min dmg 200"
  },
  {
    "id": "remilia_demonfork",
    "type": "SPELL",
    "name": "Demons' dinner fork",
    "description": "Summon several spears of red magic to stab in front of you.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "attack",
    "extra_effects": [ { "id": "remilia_demonfork2" }, { "id": "remilia_demonfork3" } ],
    "shape": "cone",
    "damage_type": "stab",
    "min_damage": { "math": [ "( (u_skill('stabbing') * 0.133 ) + (u_skill('melee') * 0.133 ) + (u_skill('dodge') * 0.133 ) + 2.404 )" ] },
    "max_damage": 8,
    "min_range": { "math": [ "( (u_skill('throw') * 0.4 + 1.4 ) )" ] },
    "max_range": 7,
    "min_aoe": 60,
    "max_aoe": 60,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_LEGS", "SOMATIC", "WONDER" ],
    "//": "This works by repeatedly casting the cone, ideally it should cast several diverging lines instead",
    "//2": "min dmg 4, min range 3"
  },
  {
    "id": "remilia_demonfork2",
    "type": "SPELL",
    "name": "Demons' dinner fork (visual effect)",
    "description": "Visual effect for remilia_demonfork ",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "attack",
    "shape": "cone",
    "damage_type": "pure",
    "min_range": { "math": [ "( (u_skill('throw') * 0.4 + 1.4 ) )" ] },
    "max_range": 7,
    "min_aoe": 60,
    "max_aoe": 60,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ],
    "//": "The base spell remilia_demonfork requires NO_EXPLOSION_SFX otherwise it shows every damage instance. By adding this subspell with a single dummy attack instance, the effect is only shown once"
  },
  {
    "id": "remilia_demonfork3",
    "type": "SPELL",
    "name": "Demons' dinner fork (forks)",
    "description": "Damage component for remilia_demonfork ",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "attack",
    "shape": "cone",
    "damage_type": "stab",
    "min_damage": { "math": [ "( (u_skill('stabbing') * 0.1 ) + (u_skill('melee') * 0.1 ) + (u_skill('dodge') * 0.1 ) + 7.8 )" ] },
    "max_damage": 12,
    "min_range": { "math": [ "( (u_skill('throw') * 0.4 + 1.4 ) )" ] },
    "max_range": 7,
    "min_aoe": 60,
    "max_aoe": 60,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_LEGS", "SOMATIC" ],
    "//": "min dmg 9"
  },
  {
    "id": "remilia_gungnir",
    "type": "SPELL",
    "name": "Spear the Gungnir",
    "description": "Summon the legendary spear.",
    "spell_class": "NONE",
    "valid_targets": [ "none" ],
    "effect": "spawn_item",
    "effect_str": "remilia_gungnir2",
    "shape": "blast",
    "min_duration": { "math": [ "( (u_skill('stabbing') * 2100 ) + (u_skill('melee') * 2100 ) + 1200 )" ] },
    "max_duration": 60000,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 100,
    "base_energy_cost": 133,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ],
    "//": "min dur 18000"
  },
  {
    "id": "remilia_gungnir_dismiss",
    "type": "SPELL",
    "name": { "str": "Dismiss the Gungnir" },
    "description": "Dismiss your spear, refunding some spiritual energy.",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "components": "spell_components_gungnir",
    "effect": "effect_on_condition",
    "effect_str": "remilia_gungnir_dismiss_eoc",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 33,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC" ]
  },
  {
    "id": "remilia_gungnir_throw",
    "type": "SPELL",
    "name": "Throw Gungnir",
    "description": "Throw the divine spear, causing direct damage to the target and minor to those who are close to it.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
    "components": "spell_components_gungnir",
    "effect": "attack",
    "extra_effects": [ { "id": "remilia_gungnir_throw2" } ],
    "shape": "blast",
    "damage_type": "stab",
    "min_damage": { "math": [ "( (u_skill('stabbing') * 12 ) + (u_skill('melee') * 12 ) - 56 )" ] },
    "max_damage": 280,
    "min_range": { "math": [ "( (u_skill('throw') * 4.8 ) - 3.2 )" ] },
    "max_range": 64,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 200,
    "base_energy_cost": 66,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ],
    "//": "min dmg 40, min range 16"
  },
  {
    "id": "remilia_gungnir_throw2",
    "type": "SPELL",
    "name": "Throw Gungnir (aoe component)",
    "description": "AoE damage component for throw_gungnir ",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "soul",
    "min_damage": { "math": [ "( (u_skill('stabbing') * 6 ) + (u_skill('melee') * 6 ) - 28 )" ] },
    "max_damage": 140,
    "min_aoe": { "math": [ "( (u_skill('throw') * 0.3 ) - 0.2 )" ] },
    "max_aoe": 4,
    "field_id": "fd_blood",
    "field_chance": 3,
    "min_field_intensity": 1,
    "max_field_intensity": 3,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "LOUD", "NO_LEGS" ],
    "//": "min dmg 20, min aoe 1"
  },
  {
    "id": "remilia_miserablefate",
    "type": "SPELL",
    "name": "Miserable Fate",
    "description": "Summon ethereal chains, stunning enemies caught on it for a short time.  Deals a small amount of physical damage.",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "attack",
    "extra_effects": [ { "id": "remilia_miserablefate2" } ],
    "shape": "blast",
    "damage_type": "stab",
    "min_damage": { "math": [ "( (u_skill('stabbing') * 1.5 ) + (u_skill('melee') * 1.5 ) + 3 )" ] },
    "max_damage": 45,
    "min_range": 6,
    "max_range": 6,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 66,
    "base_energy_cost": 200,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ],
    "//": "Overall dmg to rely on the stun component",
    "//2": "min dmg 15"
  },
  {
    "id": "remilia_miserablefate2",
    "type": "SPELL",
    "name": "Miserable Fate (stun)",
    "description": "Stun component for remilia_miserablefate ",
    "spell_class": "NONE",
    "valid_targets": [ "ground", "hostile" ],
    "effect": "mod_moves",
    "shape": "blast",
    "damage_type": "pure",
    "min_damage": { "math": [ "( - (u_skill('stabbing') * 30 ) - (u_skill('melee') * 30 ) - 60 )" ] },
    "max_damage": -900,
    "min_aoe": 3,
    "max_aoe": 3,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS" ],
    "//": "min dmg -300"
  },
  {
    "id": "remilia_vampiricaura",
    "type": "SPELL",
    "name": "Vampiric aura",
    "description": "Unleash your vampiric aura, increasing your melee attack and granting on hit healing.  This leaves you slightly vulnerable by reducing your defenses, however.",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "spawn_item",
    "effect_str": "aura_vampiric",
    "shape": "blast",
    "min_damage": 1,
    "max_damage": 1,
    "min_duration": { "math": [ "( (u_skill('stabbing') * 300 ) + (u_skill('melee') * 300 ) + 3600 )" ] },
    "max_duration": 12000,
    "max_level": 1,
    "difficulty": -10,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ],
    "//": "Mix between Vampire Claw and Millennium Vampire",
    "//2": "min dur 6000"
  }
]
